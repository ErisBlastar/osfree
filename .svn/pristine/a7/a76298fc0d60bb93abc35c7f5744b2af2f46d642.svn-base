# $Id: makefile 9 2002-01-23 09:13:16Z bsmith $ 

LFLAGS=/MAP /PMTYPE:VIO /STACK:32768
CC=cl

.c.obj:
#   $(CC) /Alfu /G2s /Zp /Lp /W3 /Ot /c /Fc%|dpfF.lst %s >%|dpfF.err
   $(CC) /Alfu /G2rs /Zp /Lp /W4 /Ozax /c /Fc%|dpfF.lst %s >%|dpfF.err
   type %|dpfF.err


.asm.obj:
   ml /c /Fl%|dpfF.lst %s >%|dpfF.err
   type %|dpfF.err

ALL: FAT32.IFS UFAT32.DLL

FAT32OBJS=FAT32.OBJ IFSMOUNT.OBJ IFSFIND.OBJ IFSDIR.OBJ IFSATTR.OBJ \
          IFSFILE.OBJ IFSLOG.OBJ IFSCACHE.OBJ IFSSWAP.OBJ IFSMEM.OBJ \
          IFSEA.OBJ IFSLANG.OBJ

FAT32.IFS : FAT32.NEW
   copy fat32.new fat32.ifs

FAT32.NEW : $(FAT32OBJS) fat32.def
   link $(FAT32OBJS) ,FAT32.NEW,FAT32, /NOD:LLIBCE $(DDKTOOLS)\toolkits\msc60\lib\LLIBCDLL FSHELPER DHCALLS $(DDK)\base\lib\OS2286, FAT32.DEF $(LFLAGS) >fat32.erl
   type fat32.erl

UFAT32.DLL : UFAT32.OBJ
   link386 UFAT32.OBJ ,UFAT32.DLL,UFAT32, /NOD:LLIBCE /NOD:OS2 $(DDKTOOLS)\toolkits\msc60\lib\LLIBCDLL $(DDK)\base\lib\OS2286, UFAT32.DEF /MAP /NOP /NOE >ufat32.erl
   type ufat32.erl     

FAT32.OBJ : FAT32.C FAT32IFS.H FAT32DEF.H
IFSMOUNT.OBJ : IFSMOUNT.C FAT32IFS.H FAT32DEF.H
IFSFIND.OBJ : IFSFIND.C FAT32IFS.H FAT32DEF.H
IFSDIR.OBJ  : IFSDIR.C FAT32IFS.H FAT32DEF.H
IFSFILE.OBJ  : IFSFILE.C FAT32IFS.H FAT32DEF.H
IFSLOG.OBJ  : IFSLOG.C FAT32IFS.H FAT32DEF.H
IFSCACHE.OBJ : IFSCACHE.C FAT32IFS.H FAT32DEF.H
IFSSWAP.OBJ : IFSSWAP.C FAT32IFS.H FAT32DEF.H
IFSMEM.OBJ : IFSMEM.C FAT32IFS.H FAT32DEF.H
IFSEA.OBJ  : IFSEA.C FAT32IFS.H FAT32DEF.H
IFSLANG.OBJ: IFSLANG.C FAT32IFS.H FAT32DEF.H
IFSATTR.OBJ: IFSATTR.C FAT32IFS.H FAT32DEF.H
UFAT32.OBJ : UFAT32.C FAT32DEF.H




