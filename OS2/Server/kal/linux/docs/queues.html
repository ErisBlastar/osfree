<?xml version="1.0"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "DTD/xhtmll-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<!--
   Copyright (C) IBM Corporation 2003. All Rights Reserved.
   Copyright (C) W. David Ashley 2004, 2005. All Rights Reserved.
-->
<head>
<title>OS/2 Queue API Differences</title>
</head>

<body bgcolor="#FFFFFF">
<h1>OS/2 Queue API Differences</h1>

<p>The following describes the implementation differences between the OS2Linux
library and the real OS/2 queue APIs.</p>

<p>These APIs are included in your application by including the following
definition in your application source file.</p>

<pre>
#define INCL_DOSQUEUES
</pre>

<h2>DosCreatePipe</h2>
<pre>
APIRET APIENTRY DosCreatePipe(PHFILE phfRead, PHFILE phfWrite, ULONG cb);
</pre>
<ul>
<li>The argument <i>cb</i> is ignored.</li>
</ul>

<h2>DosCloseQueue</h2>
<pre>
APIRET APIENTRY DosCloseQueue(HQUEUE hq);
</pre>
<ul>
<li>None.</li>
</ul>

<h2>DosCreateQueue</h2>
<pre>
APIRET APIENTRY DosCreateQueue(PHQUEUE phq, ULONG queue_flags, PSZ pszName);
</pre>
<ul>
<li>The argument <i>queue_flags</i> is ignored.</li>
<li>The queue is always a FIFO queue.</li>
</ul>

<h2>DosOpenQueue</h2>
<pre>
APIRET APIENTRY DosOpenQueue(PPID ppid, PHQUEUE phq, PSZ pszName);
</pre>
<ul>
<li>None.</li>
</ul>

<h2>DosPeekQueue</h2>
<pre>
APIRET APIENTRY DosPeekQueue(HQUEUE hq, PREQUESTDATA pRequest, PULONG pcbData,
                             PPVOID ppbuf, PULONG element, BOOL32 nowait,
                             PBYTE ppriority, HEV hsem);
</pre>
<ul>
<li>This function is not supported and always returns ERROR_ACCESS_DENIED.</li>
</ul>

<h2>DosPurgeQueue</h2>
<pre>
APIRET APIENTRY DosPurgeQueue(HQUEUE hq);
</pre>
<ul>
<li>This function is not supported and always returns ERROR_ACCESS_DENIED.</li>
</ul>

<h2>DosQueryQueue</h2>
<pre>
APIRET APIENTRY DosQueryQueue(HQUEUE hq, PULONG pcbEntries);
</pre>
<ul>
<li>This function is not supported and always returns ERROR_ACCESS_DENIED.</li>
</ul>

<h2>DosReadQueue</h2>
<pre>
APIRET APIENTRY DosReadQueue(HQUEUE hq, PREQUESTDATA pRequest, PULONG pcbData,
                             PPVOID ppbuf, ULONG element, BOOL32 wait,
                             PBYTE ppriority, HEV hsem);
</pre>
<ul>
<li>The argument <i>element</i> is ignored.</li>
</ul>

<h2>DosWriteQueue</h2>
<pre>
APIRET APIENTRY DosWriteQueue(HQUEUE hq, ULONG request, ULONG cbData,
                              PVOID pbData, ULONG priority);
</pre>
<ul>
<li>The argument <i>priority</i> is ignored.</li>
</ul>

</body>
</html>

